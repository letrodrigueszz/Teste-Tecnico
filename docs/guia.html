<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <title>Guia do Projeto – Teste Técnico</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <style>
    @media print {
      a[href]:after { content: ""; }
    }
    body { padding: 2rem; }
    code, pre { background: #f8f9fa; padding: .2rem .4rem; }
  </style>
  <script>
    function printPage(){ window.print(); }
  </script>
  </head>
<body>
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="h3 m-0">Guia do Projeto – Teste Técnico</h1>
    <button class="btn btn-primary" onclick="printPage()">Exportar PDF</button>
  </div>

  <p>Este guia explica como instalar, rodar, testar e usar o projeto (backend Spring Boot + frontend Angular), além de decisões técnicas.</p>

  <h2>Arquitetura</h2>
  <ul>
    <li><strong>Backend</strong>: Spring Boot 2.7, JPA, H2, Flyway, Security (Basic Auth), Swagger.</li>
    <li><strong>Frontend</strong>: Angular 17, Bootstrap 5, Bootstrap Icons.</li>
    <li><strong>Camadas</strong>: controller → service → repository → model, DTOs e validações.</li>
  </ul>

  <h2>Requisitos</h2>
  <ul>
    <li>Java 8+</li>
    <li>Node 18+ e npm</li>
    <li>Maven</li>
  </ul>

  <h2>Backend</h2>
  <ul>
    <li>Base: <code>http://localhost:8080</code></li>
    <li>Swagger: <code>http://localhost:8080/swagger-ui.html</code></li>
    <li>H2 Console: <code>http://localhost:8080/h2-console</code> (JDBC <code>jdbc:h2:mem:testdb</code>, user <code>sa</code>, senha vazia)</li>
    <li>Auth: HTTP Basic <code>admin</code> / <code>admin123</code></li>
  </ul>
  <h3>Rodar</h3>
  <pre><code>mvn spring-boot:run</code></pre>
  <h3>Migração</h3>
  <ul>
    <li>Flyway ativo em <code>src/main/resources/db/migration</code></li>
    <li><code>V1__init.sql</code> cria tabelas <code>users</code> e <code>cards</code></li>
  </ul>
  <h3>Endpoints</h3>
  <ul>
    <li>Usuários: <code>GET/POST/PUT/DELETE /usuarios</code>, <code>POST /usuarios/{id}/cartoes</code>, <code>DELETE /usuarios/{id}/cartoes/{cartaoId}</code></li>
    <li>Cartões: <code>GET/POST/DELETE /cartoes</code>, <code>PUT /cartoes/{id}/status?status=true|false</code></li>
  </ul>

  <h2>Frontend</h2>
  <ul>
    <li>URL: <code>http://localhost:4200</code></li>
    <li>Interceptor envia <code>Authorization: Basic ...</code> (admin/admin123)</li>
  </ul>
  <h3>Rodar</h3>
  <pre><code>cd frontend
npm install
npm start</code></pre>

  <h2>Decisões Técnicas</h2>
  <ul>
    <li>H2 em memória + Flyway para versionar schema.</li>
    <li>Security in-memory para simplificar login (pode evoluir).</li>
    <li>DTOs para contrato de API.</li>
    <li>Queries nativas de exemplo em repositórios.</li>
  </ul>

  <h2>Estrutura</h2>
  <pre><code>backend: src/main/java ... | src/main/resources
frontend: frontend/
documentação: docs/
  </code></pre>

  <h2>Próximos passos</h2>
  <ul>
    <li>Persistir usuários de login e perfis/roles.</li>
    <li>Testes automatizados.</li>
    <li>Docker Compose com banco relacional.</li>
  </ul>

</body>
</html>

